{% extends 'base/base.html' %}



{% block title %}Create Product{% endblock title %}



{% block head %}

<style>

    .card-body{

        padding: 8px 26px 8px 13px !important;
    }



</style>

{% endblock head %}



{% block content %}
{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <p> {{ error }} </p>
        {% endfor %}
    {% endfor %}
{% endif %}


<div class="row">
    <div class="col-xl-12">

        <h3 style="margin-bottom: 50px;
   font-size: 19px;"> Customer : {{ customer_instance.name }} </h3>

    </div>

</div>


<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">
                <strong class="card-title">Add Payment</strong>
            </div>
            <div class="card-body">
                <!-- Credit Card -->
                <div id="pay-invoice">
                    <div class="card-body">
                        <form action="#" method="post" enctype="multipart/form-data">
                            {% csrf_token %}

                       
                         
                           
                            <div class="form-group">
                                <label for="name" class="control-label mb-1">Amount</label>
                                {{ form.amount }}
                            </div>

                            <div class="form-group">
                                <label for="name" class="control-label mb-1">Date</label>
                                {{ form.date }}
                            </div>
                           
                            <div class="form-group">
                                <label for="name" class="control-label mb-1">Remark</label>
                                {{ form.remark }}
                            </div>
                            

                            <div>
                                <button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block">
                                    <span id="payment-button-amount">Add Payment</span>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div> <!-- .card -->

    </div><!--/.col-->
</div>
{% endblock content %}


{% block js %}


<script>
{% comment %} 
document.getElementById('asdas').addEventListener('submit', function(evt){

    evt.preventDefault();
    alert('Form submission intercepted'); // Debugging alert

    var formData = $(this).serialize();
    alert('Serialized form data: ' + formData); // Debugging alert

    $.ajax({
        type: 'POST',
        url: "{% url 'add_other_expense_json' %}", // Use the form's action attribute
        data: formData,
        success: function(response) {
          console.log(response)

          var data = JSON.parse(response)

          if (data.status == "done"){
            window.location.reload();
        }
        else{
          alert('Wrong contact pratik')
        }
            // Handle success response
        },
        error: function(error) {
            alert('Error submitting form.');
            // Handle error response
        }
    });
}); {% endcomment %}

</script>



{% endblock js %}
